import{s as e,j as s,H as a,z as t}from"./index-BQY6-t4-.js";import{r as n}from"./vendor-DCxmN9Fm.js";import{aU as i,z as r,a5 as l,a6 as c,a4 as m,e as p,S as d}from"./ui-Doz5p6GQ.js";import"./charts-BQAPh6PV.js";const x={cpu_price_per_core:3,ram_price_per_gb:1.5,storage_price_per_gb:.05,bandwidth_price_per_tb:1,min_cpu:1,min_ram:1,min_storage:20,min_bandwidth:1,max_cpu:32,max_ram:128,max_storage:2e3,max_bandwidth:100,cpu_step:1,ram_step:1,storage_step:10,bandwidth_step:1,base_fee:2,ddos_protection_price:5,backup_price:3,managed_support_price:10};function u(){const[u,o]=n.useState(!0),[h,b]=n.useState(!1),[j,g]=n.useState(x);n.useEffect(()=>{_()},[]);const _=async()=>{try{const s=await e.getCustomVPSPricing();s.data.pricing&&g(e=>({...e,...s.data.pricing}))}catch(s){console.error("Failed to load pricing:",s)}finally{o(!1)}};return u?s.jsx("div",{className:"text-center py-12",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx(a,{children:s.jsx("title",{children:"Customize Plans - Admin - Magnetic Clouds"})}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Customize VPS Plans"}),s.jsx("p",{className:"text-dark-500 mt-1",children:"Set pricing for custom VPS configurations"})]}),s.jsxs("button",{onClick:async()=>{b(!0);try{await e.updateCustomVPSPricing(j),t.success("Custom VPS pricing saved!")}catch(s){t.error("Failed to save pricing")}finally{b(!1)}},disabled:h,className:"btn-primary",children:[s.jsx(i,{className:"w-4 h-4 mr-2"}),h?"Saving...":"Save Settings"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[s.jsx(r,{className:"w-5 h-5 text-green-500"}),"Per-Unit Pricing"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(l,{className:"w-4 h-4 text-blue-500"}),"Price per vCPU ($/month)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.cpu_price_per_core,onChange:e=>g(s=>({...s,cpu_price_per_core:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(c,{className:"w-4 h-4 text-purple-500"}),"Price per GB RAM ($/month)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.ram_price_per_gb,onChange:e=>g(s=>({...s,ram_price_per_gb:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(m,{className:"w-4 h-4 text-pink-500"}),"Price per GB Storage ($/month)"]}),s.jsx("input",{type:"number",step:"0.001",min:"0",value:j.storage_price_per_gb,onChange:e=>g(s=>({...s,storage_price_per_gb:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(p,{className:"w-4 h-4 text-cyan-500"}),"Price per TB Bandwidth ($/month)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.bandwidth_price_per_tb,onChange:e=>g(s=>({...s,bandwidth_price_per_tb:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-2",children:[s.jsx(d,{className:"w-4 h-4 text-amber-500"}),"Base Fee ($/month)"]}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.base_fee,onChange:e=>g(s=>({...s,base_fee:parseFloat(e.target.value)||0})),className:"input"}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Fixed monthly fee added to all custom VPS"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[s.jsx(d,{className:"w-5 h-5 text-blue-500"}),"Resource Limits"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl",children:[s.jsxs("h3",{className:"font-medium text-blue-800 dark:text-blue-200 mb-3 flex items-center gap-2",children:[s.jsx(l,{className:"w-4 h-4"})," vCPU"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Min"}),s.jsx("input",{type:"number",min:"1",value:j.min_cpu,onChange:e=>g(s=>({...s,min_cpu:parseInt(e.target.value)||1})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Max"}),s.jsx("input",{type:"number",min:"1",value:j.max_cpu,onChange:e=>g(s=>({...s,max_cpu:parseInt(e.target.value)||32})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Step"}),s.jsx("input",{type:"number",min:"1",value:j.cpu_step,onChange:e=>g(s=>({...s,cpu_step:parseInt(e.target.value)||1})),className:"input text-sm"})]})]})]}),s.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-xl",children:[s.jsxs("h3",{className:"font-medium text-purple-800 dark:text-purple-200 mb-3 flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"})," RAM (GB)"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Min"}),s.jsx("input",{type:"number",min:"1",value:j.min_ram,onChange:e=>g(s=>({...s,min_ram:parseInt(e.target.value)||1})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Max"}),s.jsx("input",{type:"number",min:"1",value:j.max_ram,onChange:e=>g(s=>({...s,max_ram:parseInt(e.target.value)||128})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Step"}),s.jsx("input",{type:"number",min:"1",value:j.ram_step,onChange:e=>g(s=>({...s,ram_step:parseInt(e.target.value)||1})),className:"input text-sm"})]})]})]}),s.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/20 rounded-xl",children:[s.jsxs("h3",{className:"font-medium text-pink-800 dark:text-pink-200 mb-3 flex items-center gap-2",children:[s.jsx(m,{className:"w-4 h-4"})," Storage (GB)"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Min"}),s.jsx("input",{type:"number",min:"10",value:j.min_storage,onChange:e=>g(s=>({...s,min_storage:parseInt(e.target.value)||20})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Max"}),s.jsx("input",{type:"number",min:"10",value:j.max_storage,onChange:e=>g(s=>({...s,max_storage:parseInt(e.target.value)||2e3})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Step"}),s.jsx("input",{type:"number",min:"1",value:j.storage_step,onChange:e=>g(s=>({...s,storage_step:parseInt(e.target.value)||10})),className:"input text-sm"})]})]})]}),s.jsxs("div",{className:"p-4 bg-cyan-50 dark:bg-cyan-900/20 rounded-xl",children:[s.jsxs("h3",{className:"font-medium text-cyan-800 dark:text-cyan-200 mb-3 flex items-center gap-2",children:[s.jsx(p,{className:"w-4 h-4"})," Bandwidth (TB)"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Min"}),s.jsx("input",{type:"number",min:"1",value:j.min_bandwidth,onChange:e=>g(s=>({...s,min_bandwidth:parseInt(e.target.value)||1})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Max"}),s.jsx("input",{type:"number",min:"1",value:j.max_bandwidth,onChange:e=>g(s=>({...s,max_bandwidth:parseInt(e.target.value)||100})),className:"input text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs mb-1",children:"Step"}),s.jsx("input",{type:"number",min:"1",value:j.bandwidth_step,onChange:e=>g(s=>({...s,bandwidth_step:parseInt(e.target.value)||1})),className:"input text-sm"})]})]})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-6",children:"Add-on Features Pricing"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"DDoS Protection ($/month)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.ddos_protection_price,onChange:e=>g(s=>({...s,ddos_protection_price:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Automated Backups ($/month)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.backup_price,onChange:e=>g(s=>({...s,backup_price:parseFloat(e.target.value)||0})),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Managed Support ($/month)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",value:j.managed_support_price,onChange:e=>g(s=>({...s,managed_support_price:parseFloat(e.target.value)||0})),className:"input"})]})]})]}),s.jsxs("div",{className:"card p-6 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Example Calculation"}),s.jsx("p",{className:"text-sm text-dark-600 dark:text-dark-300 mb-4",children:"A VPS with 4 vCPU, 8GB RAM, 100GB Storage, 5TB Bandwidth:"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Fee:"}),s.jsxs("span",{children:["$",j.base_fee.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["4 vCPU × $",j.cpu_price_per_core,":"]}),s.jsxs("span",{children:["$",(4*j.cpu_price_per_core).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["8 GB RAM × $",j.ram_price_per_gb,":"]}),s.jsxs("span",{children:["$",(8*j.ram_price_per_gb).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["100 GB Storage × $",j.storage_price_per_gb,":"]}),s.jsxs("span",{children:["$",(100*j.storage_price_per_gb).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["5 TB Bandwidth × $",j.bandwidth_price_per_tb,":"]}),s.jsxs("span",{children:["$",(5*j.bandwidth_price_per_tb).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t font-bold text-lg",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{className:"text-primary-600",children:["$",(j.base_fee+4*j.cpu_price_per_core+8*j.ram_price_per_gb+100*j.storage_price_per_gb+5*j.bandwidth_price_per_tb).toFixed(2),"/mo"]})]})]})]})]})]})}export{u as default};
