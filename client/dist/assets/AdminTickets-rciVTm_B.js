import{j as e,H as s,F as t}from"./index-D1NBR7XG.js";import{u as a}from"./useQuery-CjORStot.js";import{c as d}from"./charts-CbuEd0CO.js";import"./vendor-DCxmN9Fm.js";import"./ui-BenWBvXj.js";const r={open:"badge-primary",answered:"badge-success","customer-reply":"badge-warning","in-progress":"badge-primary",closed:"bg-dark-100 text-dark-500"};function i(){var i;const{data:l,isLoading:c}=a({queryKey:["admin-tickets"],queryFn:()=>t.getTickets().then(e=>e.data)});return e.jsxs(e.Fragment,{children:[e.jsx(s,{children:e.jsx("title",{children:"Tickets - Admin - Magnetic Clouds"})}),e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Support Tickets"}),c?e.jsx("div",{className:"text-center py-12",children:"Loading..."}):e.jsx("div",{className:"card overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-50 dark:bg-dark-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-medium",children:"Ticket"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Customer"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Department"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Priority"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Status"}),e.jsx("th",{className:"text-left p-4 font-medium",children:"Updated"})]})}),e.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:null==(i=null==l?void 0:l.tickets)?void 0:i.map(s=>e.jsxs("tr",{className:"hover:bg-dark-50 dark:hover:bg-dark-800/50 cursor-pointer",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"font-medium",children:s.subject}),e.jsxs("p",{className:"text-sm text-dark-500",children:["#",s.ticket_number]})]}),e.jsx("td",{className:"p-4 text-dark-500",children:s.email}),e.jsx("td",{className:"p-4 capitalize",children:s.department}),e.jsx("td",{className:"p-4 capitalize",children:s.priority}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:d("badge",r[s.status]),children:s.status})}),e.jsx("td",{className:"p-4 text-dark-500",children:new Date(s.updated_at).toLocaleDateString()})]},s.uuid))})]})})]})}export{i as default};
