import{j as e,H as s,C as a,z as t}from"./index-D1NBR7XG.js";import{u as i,r as l,L as r}from"./vendor-DCxmN9Fm.js";import{aj as n,d as c}from"./ui-BenWBvXj.js";import"./charts-CbuEd0CO.js";function d(){const d=i(),[o,m]=l.useState(!1),[u,h]=l.useState({subject:"",department:"general",priority:"medium",message:""});return e.jsxs(e.Fragment,{children:[e.jsx(s,{children:e.jsx("title",{children:"Open Ticket - Magnetic Clouds"})}),e.jsxs(r,{to:"/dashboard/tickets",className:"inline-flex items-center gap-2 text-dark-500 hover:text-primary-500 mb-6",children:[e.jsx(n,{className:"w-4 h-4"})," Back to Tickets"]}),e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Open Support Ticket"}),e.jsx("div",{className:"card p-6",children:e.jsxs("form",{onSubmit:async e=>{var s,i;e.preventDefault(),m(!0);try{await a.create(u),t.success("Ticket created successfully!"),d("/dashboard/tickets")}catch(l){t.error((null==(i=null==(s=l.response)?void 0:s.data)?void 0:i.error)||"Failed to create ticket")}finally{m(!1)}},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subject"}),e.jsx("input",{type:"text",value:u.subject,onChange:e=>h({...u,subject:e.target.value}),className:"input",placeholder:"Brief description of your issue",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Department"}),e.jsxs("select",{value:u.department,onChange:e=>h({...u,department:e.target.value}),className:"input",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"technical",children:"Technical Support"}),e.jsx("option",{value:"billing",children:"Billing"}),e.jsx("option",{value:"sales",children:"Sales"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Priority"}),e.jsxs("select",{value:u.priority,onChange:e=>h({...u,priority:e.target.value}),className:"input",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),e.jsx("textarea",{value:u.message,onChange:e=>h({...u,message:e.target.value}),className:"input min-h-[200px]",placeholder:"Describe your issue in detail...",required:!0})]}),e.jsx("button",{type:"submit",disabled:o,className:"btn-primary",children:o?"Submitting...":e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"w-4 h-4 mr-2"})," Submit Ticket"]})})]})})]})]})}export{d as default};
