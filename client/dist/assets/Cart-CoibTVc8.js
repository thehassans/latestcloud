import{d as e,a as s,f as a,j as t,H as l}from"./index-B19EMgZJ.js";import{r as c,L as n}from"./vendor-DCxmN9Fm.js";import{a as i,m as r,al as d,aa as o,f as x}from"./ui-D5hhD1NI.js";import"./charts-CbuEd0CO.js";function m(){const{items:m,removeItem:h,updateQuantity:j,coupon:p,setCoupon:u,removeCoupon:N,getTotal:g,clearCart:b}=e(),{format:f}=s(),{isAuthenticated:y}=a(),[v,C]=c.useState(""),{subtotal:k,discount:w,total:A}=g();return 0===m.length?t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsx("title",{children:"Cart - Magnetic Clouds"})}),t.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center px-4",children:[t.jsx(i,{className:"w-24 h-24 text-dark-300 mb-6"}),t.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-dark-500 mb-6",children:"Add some services to get started"}),t.jsx(n,{to:"/hosting",className:"btn-primary",children:"Browse Hosting Plans"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(l,{children:t.jsx("title",{children:`Cart (${m.length}) - Magnetic Clouds`})}),t.jsx("section",{className:"section",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Shopping Cart"}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[m.map((e,s)=>t.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},className:"card p-6 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-bold",children:e.name}),t.jsx("p",{className:"text-sm text-dark-500",children:e.billingCycle})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("p",{className:"font-bold",children:f(e.price)}),t.jsx("button",{onClick:()=>h(e.id,e.billingCycle),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:t.jsx(d,{className:"w-5 h-5"})})]})]},`${e.id}-${e.billingCycle}`)),t.jsx("button",{onClick:b,className:"text-sm text-dark-500 hover:text-red-500",children:"Clear Cart"})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"card p-6 sticky top-24",children:[t.jsx("h2",{className:"text-lg font-bold mb-4",children:"Order Summary"}),t.jsxs("div",{className:"space-y-3 mb-6",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-dark-500",children:"Subtotal"}),t.jsx("span",{children:f(k)})]}),p&&t.jsxs("div",{className:"flex justify-between text-green-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(o,{className:"w-4 h-4"})," ",p.code,t.jsx("button",{onClick:N,className:"text-red-500 text-xs ml-2",children:"Remove"})]}),t.jsxs("span",{children:["-",f(w)]})]}),t.jsxs("div",{className:"border-t pt-3 flex justify-between font-bold text-lg",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{children:f(A)})]})]}),!p&&t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsx("input",{type:"text",value:v,onChange:e=>C(e.target.value),placeholder:"Coupon code",className:"input flex-1"}),t.jsx("button",{onClick:()=>{v.trim()&&(u({code:v,type:"percentage",value:10}),C(""))},className:"btn-secondary",children:"Apply"})]}),y?t.jsxs(n,{to:"/checkout",className:"btn-primary w-full justify-center",children:["Checkout ",t.jsx(x,{className:"w-4 h-4 ml-2"})]}):t.jsxs("div",{className:"space-y-3",children:[t.jsx(n,{to:"/login",className:"btn-primary w-full justify-center",children:"Login to Checkout"}),t.jsx(n,{to:"/register",className:"btn-outline w-full justify-center",children:"Create Account"})]}),t.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"45-day money-back guarantee on all plans"})]})})]})]})})]})}export{m as default};
