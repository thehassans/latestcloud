import{s as e,j as s,H as a,z as t}from"./index-BQY6-t4-.js";import{r as l}from"./vendor-DCxmN9Fm.js";import{c as r}from"./charts-BQAPh6PV.js";import{aU as n,E as i,aZ as d,ab as c,aX as m,aL as o,ao as x,aR as h,af as p,f as b,aT as u,aH as j}from"./ui-Doz5p6GQ.js";const v=({enabled:e,onChange:a,label:t})=>s.jsxs("button",{type:"button",onClick:()=>a(!e),className:"flex items-center gap-3 group",children:[s.jsx("div",{className:r("relative w-14 h-8 rounded-full transition-all duration-300 shadow-inner",e?"bg-gradient-to-r from-emerald-500 to-green-500 shadow-emerald-500/30":"bg-dark-300 dark:bg-dark-600"),children:s.jsx("div",{className:r("absolute top-1 w-6 h-6 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center",e?"left-7 bg-white":"left-1 bg-white"),children:e&&s.jsx(c,{className:"w-4 h-4 text-emerald-500"})})}),s.jsx("span",{className:r("font-semibold transition-colors",e?"text-emerald-500":"text-dark-500"),children:e?"Enabled":"Disabled"})]});function g(){const[r,g]=l.useState(!0),[_,N]=l.useState(!1),[y,k]=l.useState(!1),[f,w]=l.useState(!1),[C,X]=l.useState({stripe_enabled:!1,stripe_mode:"test",stripe_publishable_key_test:"",stripe_secret_key_test:"",stripe_publishable_key_live:"",stripe_secret_key_live:"",stripe_webhook_secret:"",paypal_enabled:!1,paypal_mode:"sandbox",paypal_client_id_sandbox:"",paypal_secret_sandbox:"",paypal_client_id_live:"",paypal_secret_live:"",bkash_enabled:!1,bkash_number:"",bkash_account_type:"personal",bkash_instructions:"",rocket_enabled:!1,rocket_number:"",rocket_account_type:"personal",rocket_instructions:"",bank_transfer_enabled:!0,bank_name:"",bank_account_number:"",bank_account_holder:"",bank_additional_info:"",cash_payment_enabled:!0,cash_payment_instructions:""});l.useEffect(()=>{S()},[]);const S=async()=>{try{const s=await e.getPaymentGateway();s.data.settings&&X(e=>({...e,...s.data.settings}))}catch(s){console.error("Failed to load payment settings:",s)}finally{g(!1)}};return r?s.jsx("div",{className:"text-center py-12",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx(a,{children:s.jsx("title",{children:"Payment Gateway - Admin - Magnetic Clouds"})}),s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Payment Gateway Settings"}),s.jsxs("button",{onClick:async()=>{N(!0);try{await e.updatePaymentGateway(C),t.success("Payment gateway settings saved!")}catch(s){t.error("Failed to save settings")}finally{N(!1)}},disabled:_,className:"btn-primary",children:[s.jsx(n,{className:"w-4 h-4 mr-2"}),_?"Saving...":"Save Settings"]})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#635BFF] rounded-xl flex items-center justify-center",children:s.jsx(i,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Stripe"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept credit/debit card payments"})]})]}),s.jsx(v,{enabled:C.stripe_enabled,onChange:e=>X(s=>({...s,stripe_enabled:e}))})]}),C.stripe_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex-1 p-4 border rounded-xl cursor-pointer transition-colors "+("test"===C.stripe_mode?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-700"),children:[s.jsx("input",{type:"radio",name:"stripe_mode",value:"test",checked:"test"===C.stripe_mode,onChange:e=>X(s=>({...s,stripe_mode:e.target.value})),className:"hidden"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"w-5 h-5 text-amber-500"}),s.jsx("span",{className:"font-medium",children:"Test Mode"})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Use for development & testing"})]}),s.jsxs("label",{className:"flex-1 p-4 border rounded-xl cursor-pointer transition-colors "+("live"===C.stripe_mode?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-700"),children:[s.jsx("input",{type:"radio",name:"stripe_mode",value:"live",checked:"live"===C.stripe_mode,onChange:e=>X(s=>({...s,stripe_mode:e.target.value})),className:"hidden"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Live Mode"})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Accept real payments"})]})]})]}),s.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[s.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(d,{className:"w-4 h-4"})," Test API Keys"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Publishable Key (Test)"}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),s.jsx("input",{type:"text",value:C.stripe_publishable_key_test,onChange:e=>X(s=>({...s,stripe_publishable_key_test:e.target.value})),placeholder:"pk_test_...",className:"input pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secret Key (Test)"}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),s.jsx("input",{type:f?"text":"password",value:C.stripe_secret_key_test,onChange:e=>X(s=>({...s,stripe_secret_key_test:e.target.value})),placeholder:"sk_test_...",className:"input pl-10 pr-10"}),s.jsx("button",{type:"button",onClick:()=>w(!f),className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?s.jsx(o,{className:"w-4 h-4 text-dark-400"}):s.jsx(x,{className:"w-4 h-4 text-dark-400"})})]})]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[s.jsxs("h3",{className:"font-medium text-green-800 dark:text-green-200 mb-4 flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"})," Live API Keys"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Publishable Key (Live)"}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),s.jsx("input",{type:"text",value:C.stripe_publishable_key_live,onChange:e=>X(s=>({...s,stripe_publishable_key_live:e.target.value})),placeholder:"pk_live_...",className:"input pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secret Key (Live)"}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),s.jsx("input",{type:f?"text":"password",value:C.stripe_secret_key_live,onChange:e=>X(s=>({...s,stripe_secret_key_live:e.target.value})),placeholder:"sk_live_...",className:"input pl-10 pr-10"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Webhook Secret (Optional)"}),s.jsxs("div",{className:"relative",children:[s.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-dark-400"}),s.jsx("input",{type:f?"text":"password",value:C.stripe_webhook_secret,onChange:e=>X(s=>({...s,stripe_webhook_secret:e.target.value})),placeholder:"whsec_...",className:"input pl-10"})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Required for automatic payment confirmations"})]}),s.jsxs("button",{onClick:()=>(async s=>{k(!0);try{const a=await e.testPaymentGateway(s);a.data.success?t.success(`${s} connection successful!`):t.error(a.data.error||"Connection failed")}catch(a){t.error("Connection test failed")}finally{k(!1)}})("stripe"),disabled:y,className:"btn-secondary",children:[s.jsx(d,{className:"w-4 h-4 mr-2"}),y?"Testing...":"Test Connection"]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#003087] rounded-xl flex items-center justify-center",children:s.jsx(h,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"PayPal"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept PayPal payments worldwide"})]})]}),s.jsx(v,{enabled:C.paypal_enabled,onChange:e=>X(s=>({...s,paypal_enabled:e}))})]}),C.paypal_enabled&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex-1 p-4 border rounded-xl cursor-pointer transition-colors "+("sandbox"===C.paypal_mode?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-700"),children:[s.jsx("input",{type:"radio",name:"paypal_mode",value:"sandbox",checked:"sandbox"===C.paypal_mode,onChange:e=>X(s=>({...s,paypal_mode:e.target.value})),className:"hidden"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d,{className:"w-5 h-5 text-amber-500"}),s.jsx("span",{className:"font-medium",children:"Sandbox"})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Use for testing"})]}),s.jsxs("label",{className:"flex-1 p-4 border rounded-xl cursor-pointer transition-colors "+("live"===C.paypal_mode?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-dark-200 dark:border-dark-700"),children:[s.jsx("input",{type:"radio",name:"paypal_mode",value:"live",checked:"live"===C.paypal_mode,onChange:e=>X(s=>({...s,paypal_mode:e.target.value})),className:"hidden"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-5 h-5 text-green-500"}),s.jsx("span",{className:"font-medium",children:"Live"})]}),s.jsx("p",{className:"text-xs text-dark-500 mt-1",children:"Accept real payments"})]})]})]}),s.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800",children:[s.jsxs("h3",{className:"font-medium text-amber-800 dark:text-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(d,{className:"w-4 h-4"})," Sandbox Credentials"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client ID (Sandbox)"}),s.jsx("input",{type:"text",value:C.paypal_client_id_sandbox,onChange:e=>X(s=>({...s,paypal_client_id_sandbox:e.target.value})),placeholder:"AX...",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secret (Sandbox)"}),s.jsx("input",{type:f?"text":"password",value:C.paypal_secret_sandbox,onChange:e=>X(s=>({...s,paypal_secret_sandbox:e.target.value})),placeholder:"EK...",className:"input"})]})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[s.jsxs("h3",{className:"font-medium text-green-800 dark:text-green-200 mb-4 flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"})," Live Credentials"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Client ID (Live)"}),s.jsx("input",{type:"text",value:C.paypal_client_id_live,onChange:e=>X(s=>({...s,paypal_client_id_live:e.target.value})),placeholder:"AX...",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Secret (Live)"}),s.jsx("input",{type:f?"text":"password",value:C.paypal_secret_live,onChange:e=>X(s=>({...s,paypal_secret_live:e.target.value})),placeholder:"EK...",className:"input"})]})]})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#E2136E] rounded-xl flex items-center justify-center",children:s.jsx(p,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"bKash"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept bKash mobile payments (Bangladesh)"})]})]}),s.jsx(v,{enabled:C.bkash_enabled,onChange:e=>X(s=>({...s,bkash_enabled:e}))})]}),C.bkash_enabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"bKash Number *"}),s.jsx("input",{type:"text",value:C.bkash_number,onChange:e=>X(s=>({...s,bkash_number:e.target.value})),placeholder:"e.g. 01XXXXXXXXX",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Account Type"}),s.jsxs("select",{value:C.bkash_account_type,onChange:e=>X(s=>({...s,bkash_account_type:e.target.value})),className:"input",children:[s.jsx("option",{value:"personal",children:"Personal"}),s.jsx("option",{value:"merchant",children:"Merchant"}),s.jsx("option",{value:"agent",children:"Agent"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Instructions"}),s.jsx("textarea",{value:C.bkash_instructions,onChange:e=>X(s=>({...s,bkash_instructions:e.target.value})),placeholder:"e.g. Send Money to 01XXXXXXXXX and use Order ID as reference...",rows:3,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#8C3494] rounded-xl flex items-center justify-center",children:s.jsx(p,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Rocket"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept Rocket mobile payments (Bangladesh)"})]})]}),s.jsx(v,{enabled:C.rocket_enabled,onChange:e=>X(s=>({...s,rocket_enabled:e}))})]}),C.rocket_enabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rocket Number *"}),s.jsx("input",{type:"text",value:C.rocket_number,onChange:e=>X(s=>({...s,rocket_number:e.target.value})),placeholder:"e.g. 01XXXXXXXXX",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Account Type"}),s.jsxs("select",{value:C.rocket_account_type,onChange:e=>X(s=>({...s,rocket_account_type:e.target.value})),className:"input",children:[s.jsx("option",{value:"personal",children:"Personal"}),s.jsx("option",{value:"merchant",children:"Merchant"}),s.jsx("option",{value:"agent",children:"Agent"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Instructions"}),s.jsx("textarea",{value:C.rocket_instructions,onChange:e=>X(s=>({...s,rocket_instructions:e.target.value})),placeholder:"e.g. Send Money to 01XXXXXXXXX and use Order ID as reference...",rows:3,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-600 rounded-xl flex items-center justify-center",children:s.jsx(b,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Bank Transfer"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept bank transfer payments"})]})]}),s.jsx(v,{enabled:C.bank_transfer_enabled,onChange:e=>X(s=>({...s,bank_transfer_enabled:e}))})]}),C.bank_transfer_enabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Bank Name *"}),s.jsx("input",{type:"text",value:C.bank_name,onChange:e=>X(s=>({...s,bank_name:e.target.value})),placeholder:"e.g. Chase Bank, HSBC",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Account Number *"}),s.jsx("input",{type:"text",value:C.bank_account_number,onChange:e=>X(s=>({...s,bank_account_number:e.target.value})),placeholder:"e.g. 1234567890",className:"input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Account Holder Name *"}),s.jsx("input",{type:"text",value:C.bank_account_holder,onChange:e=>X(s=>({...s,bank_account_holder:e.target.value})),placeholder:"e.g. Magnetic Clouds Ltd",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Info (Optional)"}),s.jsx("textarea",{value:C.bank_additional_info,onChange:e=>X(s=>({...s,bank_additional_info:e.target.value})),placeholder:"e.g. SWIFT Code, Branch Name, Routing Number",rows:2,className:"input"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-600 rounded-xl flex items-center justify-center",children:s.jsx(u,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Cash Payment"}),s.jsx("p",{className:"text-sm text-dark-500",children:"Accept cash/in-person payments"})]})]}),s.jsx(v,{enabled:C.cash_payment_enabled,onChange:e=>X(s=>({...s,cash_payment_enabled:e}))})]}),C.cash_payment_enabled&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Payment Instructions"}),s.jsx("textarea",{value:C.cash_payment_instructions,onChange:e=>X(s=>({...s,cash_payment_instructions:e.target.value})),placeholder:"Instructions for customers on how to make cash payments...",rows:3,className:"input"})]})]}),s.jsxs("div",{className:"card p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[s.jsxs("h3",{className:"font-bold text-blue-800 dark:text-blue-200 mb-4 flex items-center gap-2",children:[s.jsx(j,{className:"w-5 h-5"})," Setup Instructions"]}),s.jsxs("div",{className:"space-y-4 text-sm text-blue-700 dark:text-blue-300",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Stripe Setup:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[s.jsxs("li",{children:["Go to ",s.jsx("a",{href:"https://dashboard.stripe.com",target:"_blank",rel:"noopener",className:"underline",children:"Stripe Dashboard"})]}),s.jsx("li",{children:"Navigate to Developers → API Keys"}),s.jsx("li",{children:"Copy your Publishable and Secret keys"}),s.jsx("li",{children:"For webhooks, go to Developers → Webhooks and add endpoint"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Bank Transfer:"}),s.jsx("p",{className:"ml-2",children:"Customers will see your bank details and upload payment proof after transfer."})]})]})]})]})]})}export{g as default};
