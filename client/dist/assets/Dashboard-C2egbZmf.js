import{h as e,a as s,b as t,d as a,j as r,H as d,k as l}from"./index-D_g6I4ep.js";import{L as i}from"./vendor-DCxmN9Fm.js";import{c as n}from"./charts-BQAPh6PV.js";import{h as c,j as o,i as x,aa as m,ay as h,m as v,f as u}from"./ui-wEnzanb2.js";const j={active:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400",suspended:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",cancelled:"bg-dark-100 dark:bg-dark-800 text-dark-500",open:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",answered:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400","customer-reply":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400",closed:"bg-dark-100 dark:bg-dark-800 text-dark-500",paid:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",unpaid:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"};function b(){var b,k,p,g,N,y,f,w,S,A,D,L,_,O,T,V,$,I,R,q;const{user:F}=e(),{format:H}=s(),{themeStyle:C}=t(),{data:G,isLoading:K}=a({queryKey:["dashboard"],queryFn:()=>l.getDashboard().then(e=>e.data)}),M="gradient"===C,P=[{label:"Active Services",value:(null==(k=null==(b=null==G?void 0:G.stats)?void 0:b.services)?void 0:k.active)||0,total:(null==(g=null==(p=null==G?void 0:G.stats)?void 0:p.services)?void 0:g.total)||0,icon:c,color:"from-blue-500 to-cyan-500",to:"/dashboard/services"},{label:"Open Tickets",value:(null==(y=null==(N=null==G?void 0:G.stats)?void 0:N.tickets)?void 0:y.open)||0,total:(null==(w=null==(f=null==G?void 0:G.stats)?void 0:f.tickets)?void 0:w.total)||0,icon:o,color:"from-yellow-500 to-orange-500",to:"/dashboard/tickets"},{label:"Unpaid Invoices",value:(null==(A=null==(S=null==G?void 0:G.stats)?void 0:S.invoices)?void 0:A.unpaid)||0,total:(null==(L=null==(D=null==G?void 0:G.stats)?void 0:D.invoices)?void 0:L.total)||0,icon:x,color:"from-red-500 to-rose-500",to:"/dashboard/invoices"},{label:"Total Orders",value:(null==(O=null==(_=null==G?void 0:G.stats)?void 0:_.orders)?void 0:O.total)||0,icon:m,color:"from-green-500 to-emerald-500",to:"/dashboard/orders"}];return r.jsxs(r.Fragment,{children:[r.jsx(d,{children:r.jsx("title",{children:"Dashboard - Magnetic Clouds"})}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl md:text-3xl font-bold font-display",children:["Welcome back, ",null==F?void 0:F.first_name,"! ðŸ‘‹"]}),r.jsx("p",{className:"mt-1 text-dark-500",children:"Here's what's happening with your services today."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(i,{to:"/hosting",className:"btn-secondary",children:[r.jsx(h,{className:"w-4 h-4 mr-2"}),"New Service"]}),r.jsxs(i,{to:"/dashboard/tickets/new",className:"btn-primary",children:[r.jsx(h,{className:"w-4 h-4 mr-2"}),"Open Ticket"]})]})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map((e,s)=>r.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:r.jsxs(i,{to:e.to,className:"block card p-6 hover:shadow-lg hover:-translate-y-1 transition-all",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:n("w-12 h-12 rounded-xl flex items-center justify-center text-white",M?`bg-gradient-to-br ${e.color}`:"bg-primary-500"),children:r.jsx(e.icon,{className:"w-6 h-6"})}),r.jsx(u,{className:"w-5 h-5 text-dark-400"})]}),r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-3xl font-bold",children:e.value}),r.jsx("p",{className:"text-dark-500 text-sm",children:e.label}),void 0!==e.total&&e.total>0&&r.jsxs("p",{className:"text-xs text-dark-400 mt-1",children:["of ",e.total," total"]})]})]})},e.label))}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[r.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[r.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Services"}),r.jsx(i,{to:"/dashboard/services",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),r.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?r.jsx("div",{className:"p-6 text-center text-dark-500",children:"Loading..."}):(null==(V=null==(T=null==G?void 0:G.recent)?void 0:T.services)?void 0:V.length)>0?G.recent.services.slice(0,5).map(e=>r.jsxs(i,{to:`/dashboard/services/${e.uuid}`,className:"flex items-center justify-between p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:r.jsx(c,{className:"w-5 h-5 text-primary-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.name}),r.jsx("p",{className:"text-sm text-dark-500",children:e.service_type})]})]}),r.jsx("span",{className:n("badge",j[e.status]),children:e.status})]},e.uuid)):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(c,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),r.jsx("p",{className:"text-dark-500",children:"No services yet"}),r.jsx(i,{to:"/hosting",className:"text-primary-500 hover:underline text-sm mt-1 inline-block",children:"Get started with hosting â†’"})]})})]}),r.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card",children:[r.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Tickets"}),r.jsx(i,{to:"/dashboard/tickets",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),r.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?r.jsx("div",{className:"p-6 text-center text-dark-500",children:"Loading..."}):(null==(I=null==($=null==G?void 0:G.recent)?void 0:$.tickets)?void 0:I.length)>0?G.recent.tickets.slice(0,5).map(e=>r.jsxs(i,{to:`/dashboard/tickets/${e.uuid}`,className:"flex items-center justify-between p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50 transition-colors",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:r.jsx(o,{className:"w-5 h-5 text-yellow-500"})}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:e.subject}),r.jsxs("p",{className:"text-sm text-dark-500",children:["#",e.ticket_number]})]})]}),r.jsx("span",{className:n("badge",j[e.status]),children:e.status})]},e.uuid)):r.jsxs("div",{className:"p-6 text-center",children:[r.jsx(o,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),r.jsx("p",{className:"text-dark-500",children:"No tickets yet"}),r.jsx(i,{to:"/dashboard/tickets/new",className:"text-primary-500 hover:underline text-sm mt-1 inline-block",children:"Open a support ticket â†’"})]})})]})]}),r.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[r.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold",children:"Recent Invoices"}),r.jsx(i,{to:"/dashboard/invoices",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700",children:[r.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Invoice"}),r.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Amount"}),r.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Due Date"}),r.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Status"}),r.jsx("th",{className:"text-right p-4 text-sm font-medium text-dark-500",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-6 text-center text-dark-500",children:"Loading..."})}):(null==(q=null==(R=null==G?void 0:G.recent)?void 0:R.invoices)?void 0:q.length)>0?G.recent.invoices.slice(0,5).map(e=>r.jsxs("tr",{className:"hover:bg-dark-50 dark:hover:bg-dark-800/50",children:[r.jsx("td",{className:"p-4 font-medium",children:e.invoice_number}),r.jsx("td",{className:"p-4",children:H(e.total)}),r.jsx("td",{className:"p-4 text-dark-500",children:new Date(e.due_date).toLocaleDateString()}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:n("badge",j[e.status]),children:e.status})}),r.jsx("td",{className:"p-4 text-right",children:r.jsx(i,{to:`/dashboard/invoices/${e.uuid}`,className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"unpaid"===e.status?"Pay Now":"View"})})]},e.uuid)):r.jsx("tr",{children:r.jsxs("td",{colSpan:5,className:"p-6 text-center",children:[r.jsx(x,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),r.jsx("p",{className:"text-dark-500",children:"No invoices yet"})]})})})]})})]})]})]})}export{b as default};
