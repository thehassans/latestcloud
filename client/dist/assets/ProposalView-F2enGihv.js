import{B as e,j as s,H as t,z as a}from"./index-BQY6-t4-.js";import{i as l,u as i,r as d}from"./vendor-DCxmN9Fm.js";import{aP as r,aH as n,m as c,ab as x,ac as o,a3 as m,V as h,X as p,L as j,f as u,a0 as b,a$ as N,_ as f}from"./ui-Doz5p6GQ.js";import"./charts-BQAPh6PV.js";const g={modern:({proposal:e,company:t})=>{var a,l,i,d,r,n;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-slate-700 to-slate-900 p-8 text-white",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:(null==t?void 0:t.name)||"Magnetic Clouds"}),s.jsx("p",{className:"text-slate-300 mt-1",children:(null==t?void 0:t.tagline)||"Premium Cloud Solutions"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-slate-400",children:"PROPOSAL"}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",e.proposal_number||(null==(a=e.uuid)?void 0:a.slice(0,8).toUpperCase())]})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-slate-500 mb-2",children:"PREPARED FOR"}),s.jsx("p",{className:"font-bold text-lg",children:e.user_name}),s.jsx("p",{className:"text-slate-600",children:e.user_email}),e.user_company&&s.jsx("p",{className:"text-slate-600",children:e.user_company})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Issue Date"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500",children:"Valid Until"}),s.jsx("p",{className:"font-medium",children:new Date(e.valid_until).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-slate-50 rounded-xl",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:e.title}),e.description&&s.jsx("p",{className:"text-slate-600",children:e.description})]}),s.jsxs("table",{className:"w-full mb-8",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-slate-200",children:[s.jsx("th",{className:"text-left py-3 text-sm font-medium text-slate-500",children:"DESCRIPTION"}),s.jsx("th",{className:"text-center py-3 text-sm font-medium text-slate-500",children:"QTY"}),s.jsx("th",{className:"text-right py-3 text-sm font-medium text-slate-500",children:"PRICE"}),s.jsx("th",{className:"text-right py-3 text-sm font-medium text-slate-500",children:"TOTAL"})]})}),s.jsx("tbody",{children:null==(l=e.items)?void 0:l.map((e,t)=>s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsxs("td",{className:"py-4",children:[s.jsx("p",{className:"font-medium",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-slate-500",children:e.description})]}),s.jsx("td",{className:"text-center py-4",children:e.quantity}),s.jsxs("td",{className:"text-right py-4",children:["$",parseFloat(e.price).toFixed(2)]}),s.jsxs("td",{className:"text-right py-4 font-medium",children:["$",(e.quantity*e.price).toFixed(2)]})]},t))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-72",children:[s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-slate-500",children:"Subtotal"}),s.jsxs("span",{children:["$",null==(i=e.subtotal)?void 0:i.toFixed(2)]})]}),e.discount_amount>0&&s.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-$",null==(d=e.discount_amount)?void 0:d.toFixed(2)]})]}),e.tax_amount>0&&s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-slate-500",children:"Tax"}),s.jsxs("span",{children:["$",null==(r=e.tax_amount)?void 0:r.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-slate-900 text-xl font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",null==(n=e.total)?void 0:n.toFixed(2)]})]})]})})]})]})},premium:({proposal:e,company:t})=>{var a,l,i,d,r;return s.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-2xl shadow-2xl overflow-hidden border-2 border-amber-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 p-8 text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-20",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full -translate-y-1/2 translate-x-1/2"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full translate-y-1/2 -translate-x-1/2"})]}),s.jsxs("div",{className:"relative flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:s.jsx(N,{className:"w-8 h-8"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:(null==t?void 0:t.name)||"Magnetic Clouds"}),s.jsx("p",{className:"text-amber-100",children:"Premium Proposal"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-amber-100 text-sm",children:"PROPOSAL NO."}),s.jsxs("p",{className:"text-2xl font-bold",children:["#",e.proposal_number||(null==(a=e.uuid)?void 0:a.slice(0,8).toUpperCase())]})]})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-sm",children:[s.jsxs("h3",{className:"text-xs font-bold text-amber-600 mb-2 flex items-center gap-1",children:[s.jsx(f,{className:"w-3 h-3"})," PREPARED FOR"]}),s.jsx("p",{className:"font-bold text-lg",children:e.user_name}),s.jsx("p",{className:"text-slate-600",children:e.user_email})]}),s.jsxs("div",{className:"p-4 bg-white rounded-xl shadow-sm text-right",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-amber-600 font-bold",children:"ISSUE DATE"}),s.jsx("p",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-amber-600 font-bold",children:"VALID UNTIL"}),s.jsx("p",{className:"font-medium",children:new Date(e.valid_until).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-white rounded-xl shadow-sm border-l-4 border-amber-500",children:[s.jsx("h2",{className:"text-xl font-bold text-amber-800",children:e.title}),e.description&&s.jsx("p",{className:"text-slate-600 mt-1",children:e.description})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden mb-8",children:[s.jsxs("div",{className:"bg-amber-500 text-white px-6 py-3 grid grid-cols-12 text-sm font-bold",children:[s.jsx("div",{className:"col-span-6",children:"ITEM"}),s.jsx("div",{className:"col-span-2 text-center",children:"QTY"}),s.jsx("div",{className:"col-span-2 text-right",children:"PRICE"}),s.jsx("div",{className:"col-span-2 text-right",children:"TOTAL"})]}),null==(l=e.items)?void 0:l.map((e,t)=>s.jsxs("div",{className:"px-6 py-4 grid grid-cols-12 border-b border-amber-100 items-center",children:[s.jsxs("div",{className:"col-span-6",children:[s.jsx("p",{className:"font-medium",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-slate-500",children:e.description})]}),s.jsx("div",{className:"col-span-2 text-center",children:e.quantity}),s.jsxs("div",{className:"col-span-2 text-right",children:["$",parseFloat(e.price).toFixed(2)]}),s.jsxs("div",{className:"col-span-2 text-right font-bold text-amber-700",children:["$",(e.quantity*e.price).toFixed(2)]})]},t))]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-80 bg-gradient-to-br from-amber-500 to-yellow-500 rounded-xl p-6 text-white",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-white/20",children:[s.jsx("span",{className:"text-amber-100",children:"Subtotal"}),s.jsxs("span",{children:["$",null==(i=e.subtotal)?void 0:i.toFixed(2)]})]}),e.discount_amount>0&&s.jsxs("div",{className:"flex justify-between py-2 border-b border-white/20",children:[s.jsx("span",{className:"text-amber-100",children:"Discount"}),s.jsxs("span",{children:["-$",null==(d=e.discount_amount)?void 0:d.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between py-3 text-2xl font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",null==(r=e.total)?void 0:r.toFixed(2)]})]})]})})]})]})},tech:({proposal:e,company:t})=>{var a,l,i,d,r;return s.jsxs("div",{className:"bg-slate-900 rounded-2xl shadow-2xl overflow-hidden text-white",children:[s.jsxs("div",{className:"p-8 border-b border-cyan-500/30 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/10 to-blue-500/10"}),s.jsxs("div",{className:"relative flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center",children:s.jsx(b,{className:"w-7 h-7"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:(null==t?void 0:t.name)||"Magnetic Clouds"}),s.jsx("p",{className:"text-slate-400 text-sm",children:"PROPOSAL DOCUMENT"})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"inline-block px-4 py-2 bg-cyan-500/20 rounded-lg border border-cyan-500/30",children:[s.jsx("p",{className:"text-xs text-cyan-400",children:"ID"}),s.jsx("p",{className:"font-mono font-bold",children:null==(a=e.uuid)?void 0:a.slice(0,8).toUpperCase()})]})})]})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[s.jsx("p",{className:"text-xs text-cyan-400 mb-1",children:"CLIENT"}),s.jsx("p",{className:"font-bold",children:e.user_name}),s.jsx("p",{className:"text-sm text-slate-400",children:e.user_email})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[s.jsx("p",{className:"text-xs text-cyan-400 mb-1",children:"ISSUED"}),s.jsx("p",{className:"font-bold",children:new Date(e.created_at).toLocaleDateString()})]}),s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[s.jsx("p",{className:"text-xs text-cyan-400 mb-1",children:"EXPIRES"}),s.jsx("p",{className:"font-bold",children:new Date(e.valid_until).toLocaleDateString()})]})]}),s.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-xl border border-cyan-500/30",children:[s.jsx("h2",{className:"text-xl font-bold",children:e.title}),e.description&&s.jsx("p",{className:"text-slate-400 mt-1",children:e.description})]}),s.jsx("div",{className:"mb-8 space-y-3",children:null==(l=e.items)?void 0:l.map((e,t)=>s.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-slate-500",children:e.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-slate-400",children:[e.quantity," × $",parseFloat(e.price).toFixed(2)]}),s.jsxs("p",{className:"font-bold text-cyan-400",children:["$",(e.quantity*e.price).toFixed(2)]})]})]},t))}),s.jsx("div",{className:"p-6 bg-gradient-to-r from-cyan-500 to-blue-600 rounded-xl",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-cyan-100 text-sm",children:"TOTAL AMOUNT"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",null==(i=e.total)?void 0:i.toFixed(2)]})]}),s.jsxs("div",{className:"text-right text-sm",children:[e.discount_amount>0&&s.jsxs("p",{className:"text-cyan-100",children:["Discount: -$",null==(d=e.discount_amount)?void 0:d.toFixed(2)]}),e.tax_amount>0&&s.jsxs("p",{className:"text-cyan-100",children:["Tax: $",null==(r=e.tax_amount)?void 0:r.toFixed(2)]})]})]})})]})]})},corporate:({proposal:e,company:t})=>{var a,l,i,d,r,n;return s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 p-8 text-white",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(u,{className:"w-7 h-7"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:(null==t?void 0:t.name)||"Magnetic Clouds"}),s.jsx("p",{className:"text-indigo-200",children:"Business Proposal"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-4xl font-bold",children:["#",null==(a=e.uuid)?void 0:a.slice(0,6).toUpperCase()]}),s.jsx("p",{className:"text-indigo-200",children:"Proposal"})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex justify-between mb-8 pb-8 border-b-2 border-indigo-100",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-bold text-indigo-600 mb-2",children:"BILL TO"}),s.jsx("p",{className:"font-bold text-lg",children:e.user_name}),s.jsx("p",{className:"text-slate-600",children:e.user_email}),e.user_company&&s.jsx("p",{className:"text-slate-600",children:e.user_company})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"inline-grid grid-cols-2 gap-x-8 gap-y-2 text-sm",children:[s.jsx("span",{className:"text-slate-500",children:"Date:"}),s.jsx("span",{className:"font-medium",children:new Date(e.created_at).toLocaleDateString()}),s.jsx("span",{className:"text-slate-500",children:"Valid Until:"}),s.jsx("span",{className:"font-medium",children:new Date(e.valid_until).toLocaleDateString()})]})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-indigo-900",children:e.title}),e.description&&s.jsx("p",{className:"text-slate-600 mt-2",children:e.description})]}),s.jsxs("table",{className:"w-full mb-8",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-indigo-600 text-white",children:[s.jsx("th",{className:"text-left py-3 px-4 rounded-l-lg",children:"Description"}),s.jsx("th",{className:"text-center py-3 px-4",children:"Qty"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Rate"}),s.jsx("th",{className:"text-right py-3 px-4 rounded-r-lg",children:"Amount"})]})}),s.jsx("tbody",{children:null==(l=e.items)?void 0:l.map((e,t)=>s.jsxs("tr",{className:"border-b border-indigo-100",children:[s.jsxs("td",{className:"py-4 px-4",children:[s.jsx("p",{className:"font-medium",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-slate-500",children:e.description})]}),s.jsx("td",{className:"text-center py-4 px-4",children:e.quantity}),s.jsxs("td",{className:"text-right py-4 px-4",children:["$",parseFloat(e.price).toFixed(2)]}),s.jsxs("td",{className:"text-right py-4 px-4 font-bold",children:["$",(e.quantity*e.price).toFixed(2)]})]},t))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-72",children:[s.jsxs("div",{className:"flex justify-between py-2 text-slate-600",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",null==(i=e.subtotal)?void 0:i.toFixed(2)]})]}),e.discount_amount>0&&s.jsxs("div",{className:"flex justify-between py-2 text-green-600",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-$",null==(d=e.discount_amount)?void 0:d.toFixed(2)]})]}),e.tax_amount>0&&s.jsxs("div",{className:"flex justify-between py-2 text-slate-600",children:[s.jsx("span",{children:"Tax"}),s.jsxs("span",{children:["$",null==(r=e.tax_amount)?void 0:r.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between py-4 mt-2 bg-indigo-600 text-white rounded-lg px-4 text-xl font-bold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",null==(n=e.total)?void 0:n.toFixed(2)]})]})]})})]})]})},elegant:({proposal:e,company:t})=>{var a,l,i,d,r;return s.jsxs("div",{className:"bg-gray-900 rounded-2xl shadow-2xl overflow-hidden text-white",children:[s.jsx("div",{className:"p-10 border-b border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-light tracking-wider",children:(null==t?void 0:t.name)||"MAGNETIC CLOUDS"}),s.jsx("p",{className:"text-gray-500 mt-1 tracking-widest text-sm",children:"PROPOSAL"})]}),s.jsx("div",{className:"text-right",children:s.jsx("p",{className:"text-5xl font-thin",children:null==(a=e.uuid)?void 0:a.slice(0,4).toUpperCase()})})]})}),s.jsxs("div",{className:"p-10",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-12",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 text-xs tracking-widest mb-3",children:"PREPARED FOR"}),s.jsx("p",{className:"text-xl font-light",children:e.user_name}),s.jsx("p",{className:"text-gray-400",children:e.user_email})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-500 text-xs tracking-widest mb-3",children:"DATE"}),s.jsx("p",{className:"font-light",children:new Date(e.created_at).toLocaleDateString()}),s.jsx("p",{className:"text-gray-500 text-xs tracking-widest mt-4 mb-3",children:"VALID UNTIL"}),s.jsx("p",{className:"font-light",children:new Date(e.valid_until).toLocaleDateString()})]})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-light",children:e.title}),e.description&&s.jsx("p",{className:"text-gray-400 mt-2",children:e.description})]}),s.jsx("div",{className:"mb-12",children:null==(l=e.items)?void 0:l.map((e,t)=>s.jsxs("div",{className:"py-6 border-b border-gray-800 flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-light",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-gray-500 text-sm",children:[e.quantity," × $",parseFloat(e.price).toFixed(2)]}),s.jsxs("p",{className:"text-lg",children:["$",(e.quantity*e.price).toFixed(2)]})]})]},t))}),s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"w-64",children:[s.jsxs("div",{className:"flex justify-between py-3 text-gray-400",children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["$",null==(i=e.subtotal)?void 0:i.toFixed(2)]})]}),e.discount_amount>0&&s.jsxs("div",{className:"flex justify-between py-3 text-gray-400",children:[s.jsx("span",{children:"Discount"}),s.jsxs("span",{children:["-$",null==(d=e.discount_amount)?void 0:d.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between py-6 border-t border-gray-700 text-2xl",children:[s.jsx("span",{className:"font-light",children:"Total"}),s.jsxs("span",{children:["$",null==(r=e.total)?void 0:r.toFixed(2)]})]})]})})]})]})}};function v(){const{uuid:u}=l();i();const[b,N]=d.useState(!0),[f,v]=d.useState(null),[y,w]=d.useState(null),[k,_]=d.useState(!1),[D,P]=d.useState(!1),[F,S]=d.useState("");d.useEffect(()=>{T()},[u]);const T=async()=>{try{const s=await e.getProposal(u);v(s.data.proposal)}catch(s){w("Proposal not found or has expired")}finally{N(!1)}};if(b)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 dark:from-dark-900 dark:to-dark-800",children:s.jsx(r,{className:"w-10 h-10 animate-spin text-primary-500"})});if(y||!f)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 dark:from-dark-900 dark:to-dark-800",children:s.jsxs("div",{className:"text-center",children:[s.jsx(n,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Proposal Not Found"}),s.jsx("p",{className:"text-dark-500",children:y||"This proposal may have expired or been removed."})]})});const C=g[f.template]||g.modern,$=new Date(f.valid_until)<new Date,L="sent"===f.status||"viewed"===f.status;return s.jsxs(s.Fragment,{children:[s.jsx(t,{children:s.jsxs("title",{children:["Proposal: ",f.title," - Magnetic Clouds"]})}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 dark:from-dark-900 dark:to-dark-800 py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:["accepted"===f.status&&s.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 rounded-xl flex items-center gap-3",children:[s.jsx(x,{className:"w-6 h-6 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-green-800 dark:text-green-200",children:"Proposal Accepted"}),s.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"You have been enrolled in the services. Check your email for details."})]})]}),"rejected"===f.status&&s.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-xl flex items-center gap-3",children:[s.jsx(o,{className:"w-6 h-6 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-red-800 dark:text-red-200",children:"Proposal Rejected"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:"This proposal has been declined."})]})]}),$&&L&&s.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-amber-100 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 rounded-xl flex items-center gap-3",children:[s.jsx(m,{className:"w-6 h-6 text-amber-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-amber-800 dark:text-amber-200",children:"Proposal Expired"}),s.jsx("p",{className:"text-sm text-amber-600 dark:text-amber-300",children:"This proposal has expired. Please contact us for a new quote."})]})]}),s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsx(C,{proposal:f,company:{}})}),(f.notes||f.terms)&&s.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mt-6 p-6 bg-white dark:bg-dark-800 rounded-xl shadow-lg",children:[f.notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"font-bold text-sm text-dark-500 mb-2",children:"NOTES"}),s.jsx("p",{className:"text-dark-700 dark:text-dark-300",children:f.notes})]}),f.terms&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm text-dark-500 mb-2",children:"TERMS & CONDITIONS"}),s.jsx("p",{className:"text-dark-700 dark:text-dark-300 text-sm",children:f.terms})]})]}),L&&!$&&s.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to accept this proposal? You will be enrolled in the services listed.")){_(!0);try{await e.acceptProposal(u,{}),a.success("Proposal accepted! You have been enrolled in the services."),T()}catch(s){a.error("Failed to accept proposal")}finally{_(!1)}}},disabled:k,className:"flex-1 sm:flex-none px-8 py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold rounded-xl shadow-lg shadow-green-500/30 transition-all flex items-center justify-center gap-2",children:[k?s.jsx(r,{className:"w-5 h-5 animate-spin"}):s.jsx(h,{className:"w-5 h-5"}),"Accept Proposal"]}),s.jsxs("button",{onClick:()=>P(!0),disabled:k,className:"flex-1 sm:flex-none px-8 py-4 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-bold rounded-xl shadow-lg shadow-red-500/30 transition-all flex items-center justify-center gap-2",children:[s.jsx(p,{className:"w-5 h-5"}),"Reject Proposal"]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-dark-500",children:[s.jsx(j,{className:"w-4 h-4"}),"Secured by Magnetic Clouds"]})})]})}),D&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:s.jsxs(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-dark-800 rounded-2xl shadow-2xl p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Reject Proposal"}),s.jsx("p",{className:"text-dark-500 mb-4",children:"Please let us know why you're declining this proposal (optional):"}),s.jsx("textarea",{value:F,onChange:e=>S(e.target.value),placeholder:"Reason for rejection...",rows:3,className:"input w-full mb-4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>P(!1),className:"flex-1 btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:async()=>{_(!0);try{await e.rejectProposal(u,{reason:F}),a.success("Proposal rejected"),P(!1),T()}catch(s){a.error("Failed to reject proposal")}finally{_(!1)}},disabled:k,className:"flex-1 bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg",children:k?"Rejecting...":"Confirm Reject"})]})]})})]})}export{v as default};
