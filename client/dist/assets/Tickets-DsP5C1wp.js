import{j as e,H as s,C as t}from"./index-BfBk6Bdx.js";import{L as a}from"./vendor-DCxmN9Fm.js";import{u as r}from"./useQuery-DMR0bYcm.js";import{c}from"./charts-CbuEd0CO.js";import{am as i,j as d}from"./ui-BenWBvXj.js";const n={open:"badge-primary",answered:"badge-success","customer-reply":"badge-warning",closed:"bg-dark-100 text-dark-500"};function l(){var l;const{data:m,isLoading:o}=r({queryKey:["tickets"],queryFn:()=>t.getAll().then(e=>e.data)});return e.jsxs(e.Fragment,{children:[e.jsx(s,{children:e.jsx("title",{children:"Support Tickets - Magnetic Clouds"})}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Support Tickets"}),e.jsxs(a,{to:"/dashboard/tickets/new",className:"btn-primary",children:[e.jsx(i,{className:"w-4 h-4 mr-2"})," Open Ticket"]})]}),o?e.jsx("div",{className:"text-center py-12",children:"Loading..."}):(null==(l=null==m?void 0:m.tickets)?void 0:l.length)>0?e.jsx("div",{className:"space-y-4",children:m.tickets.map(s=>e.jsx(a,{to:`/dashboard/tickets/${s.uuid}`,className:"block card p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:s.subject}),e.jsxs("p",{className:"text-sm text-dark-500",children:["#",s.ticket_number," â€¢ ",s.department]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:c("badge",n[s.status]),children:s.status}),e.jsx("span",{className:"text-sm text-dark-500",children:new Date(s.updated_at).toLocaleDateString()})]})]})},s.uuid))}):e.jsxs("div",{className:"card p-12 text-center",children:[e.jsx(d,{className:"w-16 h-16 text-dark-300 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:"No Tickets Yet"}),e.jsx("p",{className:"text-dark-500 mb-6",children:"Need help? Open a support ticket"}),e.jsx(a,{to:"/dashboard/tickets/new",className:"btn-primary",children:"Open Ticket"})]})]})}export{l as default};
