import{d as e,z as a,j as r,H as s}from"./index-BXsfSXuJ.js";import{r as t}from"./vendor-DCxmN9Fm.js";import{c as i}from"./charts-CbuEd0CO.js";import{D as d,R as l,ap as n,J as c,c as o,E as m,N as x,O as p,h as u,m as b}from"./ui-CUdL0AoM.js";const g={hosting:u,vps:u,cloud:p,dedicated:x,ssl:m,email:o,backup:c},h={hosting:"Web Hosting",vps:"VPS Servers",cloud:"Cloud Servers",dedicated:"Dedicated Servers",ssl:"SSL Certificates",email:"Professional Email",backup:"Website Backup"};function k(){const[c,o]=t.useState(null),[m,x]=t.useState(!0),[p,u]=t.useState(!1),[k,f]=t.useState("hosting");t.useEffect(()=>{j()},[]);const j=async()=>{try{const a=await e.get("/api/pricing");o(a.data)}catch(r){a.error("Failed to load pricing")}finally{x(!1)}};return m?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r.jsxs(r.Fragment,{children:[r.jsx(s,{children:r.jsx("title",{children:"Pricing Management - Admin"})}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-dark-900 dark:text-white flex items-center gap-3",children:[r.jsx(d,{className:"w-8 h-8 text-primary-500"}),"Pricing Management"]}),r.jsx("p",{className:"text-dark-500 mt-1",children:"Manage pricing for all services"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:async()=>{if(confirm("Reset all pricing to defaults?"))try{const r=await e.post("/api/pricing/reset");o(r.data.pricing),a.success("Pricing reset to defaults")}catch(r){a.error("Failed to reset pricing")}},className:"btn bg-dark-100 dark:bg-dark-700 text-dark-700 dark:text-dark-200 hover:bg-dark-200 dark:hover:bg-dark-600",children:[r.jsx(l,{className:"w-4 h-4 mr-2"})," Reset Defaults"]}),r.jsxs("button",{onClick:async()=>{u(!0);try{await e.post("/api/pricing",{pricing:c}),a.success("Pricing saved successfully!")}catch(r){a.error("Failed to save pricing")}finally{u(!1)}},disabled:p,className:"btn-primary",children:[r.jsx(n,{className:"w-4 h-4 mr-2"})," ",p?"Saving...":"Save All"]})]})]}),r.jsx("div",{className:"flex flex-wrap gap-2 p-1 bg-dark-100 dark:bg-dark-800 rounded-xl",children:Object.keys(h).map(e=>{const a=g[e];return r.jsxs("button",{onClick:()=>f(e),className:i("flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all",k===e?"bg-white dark:bg-dark-700 text-primary-600 shadow-sm":"text-dark-600 dark:text-dark-400 hover:text-dark-900 dark:hover:text-white"),children:[r.jsx(a,{className:"w-4 h-4"}),h[e]]},e)})}),c&&c[k]&&r.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:c[k].map((e,a)=>r.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},className:i("p-6 rounded-2xl border-2",e.popular?"border-primary-500 bg-primary-50 dark:bg-primary-900/10":"border-gray-200 dark:border-dark-700 bg-white dark:bg-dark-800"),children:[e.popular&&r.jsx("span",{className:"inline-block mb-3 px-2 py-1 bg-primary-500 text-white text-xs font-bold rounded",children:"POPULAR"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-xs font-medium text-dark-500 mb-1",children:"Plan Name"}),r.jsx("input",{type:"text",value:e.name,onChange:e=>((e,a,r)=>{const s={...c};s[e][a].name=r,o(s)})(k,a,e.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-dark-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-xs font-medium text-dark-500 mb-1",children:"Price ($/month)"}),r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-dark-500",children:"$"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:e.price,onChange:e=>((e,a,r)=>{const s={...c};s[e][a].price=parseFloat(r)||0,o(s)})(k,a,e.target.value),className:"w-full pl-8 pr-3 py-2 rounded-lg border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-dark-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent text-2xl font-bold"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-dark-500 mb-2",children:"Features"}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.features.map((e,s)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:e,onChange:e=>((e,a,r,s)=>{const t={...c};t[e][a].features[r]=s,o(t)})(k,a,s,e.target.value),className:"flex-1 px-2 py-1 text-sm rounded border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-700 text-dark-900 dark:text-white"}),r.jsx("button",{onClick:()=>((e,a,r)=>{const s={...c};s[e][a].features.splice(r,1),o(s)})(k,a,s),className:"px-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:"Ã—"})]},s))}),r.jsx("button",{onClick:()=>((e,a)=>{const r={...c};r[e][a].features.push("New Feature"),o(r)})(k,a),className:"mt-2 text-sm text-primary-500 hover:text-primary-600",children:"+ Add Feature"})]})]},e.id))})]})]})}export{k as default};
