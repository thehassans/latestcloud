import{e,a as s,b as t,j as a,H as r,g as d}from"./index-CgLJWvKE.js";import{L as l}from"./vendor-DCxmN9Fm.js";import{u as i}from"./useQuery-D9uORTEV.js";import{c as n}from"./charts-CbuEd0CO.js";import{h as c,j as o,i as m,a4 as x,am as h,m as v,f as u}from"./ui-C2x77nBW.js";const j={active:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",pending:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400",suspended:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",cancelled:"bg-dark-100 dark:bg-dark-800 text-dark-500",open:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",answered:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400","customer-reply":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400",closed:"bg-dark-100 dark:bg-dark-800 text-dark-500",paid:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",unpaid:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"};function b(){var b,p,k,g,N,y,f,w,S,A,D,L,V,_,O,T,$,I,R,q;const{user:F}=e(),{format:H}=s(),{themeStyle:C}=t(),{data:G,isLoading:K}=i({queryKey:["dashboard"],queryFn:()=>d.getDashboard().then(e=>e.data)}),M="gradient"===C,P=[{label:"Active Services",value:(null==(p=null==(b=null==G?void 0:G.stats)?void 0:b.services)?void 0:p.active)||0,total:(null==(g=null==(k=null==G?void 0:G.stats)?void 0:k.services)?void 0:g.total)||0,icon:c,color:"from-blue-500 to-cyan-500",to:"/dashboard/services"},{label:"Open Tickets",value:(null==(y=null==(N=null==G?void 0:G.stats)?void 0:N.tickets)?void 0:y.open)||0,total:(null==(w=null==(f=null==G?void 0:G.stats)?void 0:f.tickets)?void 0:w.total)||0,icon:o,color:"from-yellow-500 to-orange-500",to:"/dashboard/tickets"},{label:"Unpaid Invoices",value:(null==(A=null==(S=null==G?void 0:G.stats)?void 0:S.invoices)?void 0:A.unpaid)||0,total:(null==(L=null==(D=null==G?void 0:G.stats)?void 0:D.invoices)?void 0:L.total)||0,icon:m,color:"from-red-500 to-rose-500",to:"/dashboard/invoices"},{label:"Total Orders",value:(null==(_=null==(V=null==G?void 0:G.stats)?void 0:V.orders)?void 0:_.total)||0,icon:x,color:"from-green-500 to-emerald-500",to:"/dashboard/orders"}];return a.jsxs(a.Fragment,{children:[a.jsx(r,{children:a.jsx("title",{children:"Dashboard - Magnetic Clouds"})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold font-display",children:["Welcome back, ",null==F?void 0:F.first_name,"! ðŸ‘‹"]}),a.jsx("p",{className:"mt-1 text-dark-500",children:"Here's what's happening with your services today."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(l,{to:"/hosting",className:"btn-secondary",children:[a.jsx(h,{className:"w-4 h-4 mr-2"}),"New Service"]}),a.jsxs(l,{to:"/dashboard/tickets/new",className:"btn-primary",children:[a.jsx(h,{className:"w-4 h-4 mr-2"}),"Open Ticket"]})]})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map((e,s)=>a.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:a.jsxs(l,{to:e.to,className:"block card p-6 hover:shadow-lg hover:-translate-y-1 transition-all",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:n("w-12 h-12 rounded-xl flex items-center justify-center text-white",M?`bg-gradient-to-br ${e.color}`:"bg-primary-500"),children:a.jsx(e.icon,{className:"w-6 h-6"})}),a.jsx(u,{className:"w-5 h-5 text-dark-400"})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-3xl font-bold",children:e.value}),a.jsx("p",{className:"text-dark-500 text-sm",children:e.label}),void 0!==e.total&&e.total>0&&a.jsxs("p",{className:"text-xs text-dark-400 mt-1",children:["of ",e.total," total"]})]})]})},e.label))}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[a.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Recent Services"}),a.jsx(l,{to:"/dashboard/services",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?a.jsx("div",{className:"p-6 text-center text-dark-500",children:"Loading..."}):(null==(T=null==(O=null==G?void 0:G.recent)?void 0:O.services)?void 0:T.length)>0?G.recent.services.slice(0,5).map(e=>a.jsxs(l,{to:`/dashboard/services/${e.uuid}`,className:"flex items-center justify-between p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:a.jsx(c,{className:"w-5 h-5 text-primary-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-sm text-dark-500",children:e.service_type})]})]}),a.jsx("span",{className:n("badge",j[e.status]),children:e.status})]},e.uuid)):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(c,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),a.jsx("p",{className:"text-dark-500",children:"No services yet"}),a.jsx(l,{to:"/hosting",className:"text-primary-500 hover:underline text-sm mt-1 inline-block",children:"Get started with hosting â†’"})]})})]}),a.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"card",children:[a.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Recent Tickets"}),a.jsx(l,{to:"/dashboard/tickets",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?a.jsx("div",{className:"p-6 text-center text-dark-500",children:"Loading..."}):(null==(I=null==($=null==G?void 0:G.recent)?void 0:$.tickets)?void 0:I.length)>0?G.recent.tickets.slice(0,5).map(e=>a.jsxs(l,{to:`/dashboard/tickets/${e.uuid}`,className:"flex items-center justify-between p-4 hover:bg-dark-50 dark:hover:bg-dark-800/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center",children:a.jsx(o,{className:"w-5 h-5 text-yellow-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:e.subject}),a.jsxs("p",{className:"text-sm text-dark-500",children:["#",e.ticket_number]})]})]}),a.jsx("span",{className:n("badge",j[e.status]),children:e.status})]},e.uuid)):a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(o,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),a.jsx("p",{className:"text-dark-500",children:"No tickets yet"}),a.jsx(l,{to:"/dashboard/tickets/new",className:"text-primary-500 hover:underline text-sm mt-1 inline-block",children:"Open a support ticket â†’"})]})})]})]}),a.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card",children:[a.jsxs("div",{className:"p-6 border-b border-dark-100 dark:border-dark-700 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Recent Invoices"}),a.jsx(l,{to:"/dashboard/invoices",className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-dark-100 dark:border-dark-700",children:[a.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Invoice"}),a.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Amount"}),a.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Due Date"}),a.jsx("th",{className:"text-left p-4 text-sm font-medium text-dark-500",children:"Status"}),a.jsx("th",{className:"text-right p-4 text-sm font-medium text-dark-500",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-dark-100 dark:divide-dark-700",children:K?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-6 text-center text-dark-500",children:"Loading..."})}):(null==(q=null==(R=null==G?void 0:G.recent)?void 0:R.invoices)?void 0:q.length)>0?G.recent.invoices.slice(0,5).map(e=>a.jsxs("tr",{className:"hover:bg-dark-50 dark:hover:bg-dark-800/50",children:[a.jsx("td",{className:"p-4 font-medium",children:e.invoice_number}),a.jsx("td",{className:"p-4",children:H(e.total)}),a.jsx("td",{className:"p-4 text-dark-500",children:new Date(e.due_date).toLocaleDateString()}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:n("badge",j[e.status]),children:e.status})}),a.jsx("td",{className:"p-4 text-right",children:a.jsx(l,{to:`/dashboard/invoices/${e.uuid}`,className:"text-primary-500 hover:text-primary-600 text-sm font-medium",children:"unpaid"===e.status?"Pay Now":"View"})})]},e.uuid)):a.jsx("tr",{children:a.jsxs("td",{colSpan:5,className:"p-6 text-center",children:[a.jsx(m,{className:"w-12 h-12 mx-auto text-dark-300 mb-3"}),a.jsx("p",{className:"text-dark-500",children:"No invoices yet"})]})})})]})})]})]})]})}export{b as default};
